
<!DOCTYPE html>

<html data-content_root="../" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><meta content="width=device-width, initial-scale=1" name="viewport"/>
<link href="../_static/favicon_io/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/>
<link href="../_static/favicon_io/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/>
<link href="../_static/favicon_io/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180" type="image/png"/>
<title>Throughput — ESIS  documentation</title>
<script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
<!--
    this give us a css class that will be invisible only if js is disabled
  -->
<noscript>
<style>
      .pst-js-only { display: none !important; }

    </style>
</noscript>
<!-- Loaded before other Sphinx assets -->
<link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet">
<link href="../_static/pygments.css?v=8f2a1f02" rel="stylesheet" type="text/css">
<link href="../_static/graphviz.css?v=4ae1632d" rel="stylesheet" type="text/css"/>
<link href="../_static/jupyter-sphinx.css" rel="stylesheet" type="text/css"/>
<link href="../_static/thebelab.css" rel="stylesheet" type="text/css"/>
<link href="../_static/sphinx-codeautolink.css?v=b2176991" rel="stylesheet" type="text/css"/>
<link href="../_static/nbsphinx-code-cells.css?v=2aa19091" rel="stylesheet" type="text/css"/>
<!-- So that users can add custom icons -->
<script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
<!-- Pre-loaded scripts that we'll load fully later -->
<link as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" rel="preload"/>
<link as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" rel="preload"/>
<script src="../_static/documentation_options.js?v=5929fcd5"></script>
<script src="../_static/doctools.js?v=9bcbadda"></script>
<script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
<script src="../_static/thebelab-helper.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
<script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
<script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-CQ9NDQQWKM"></script>
<script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-CQ9NDQQWKM');
            </script>
<script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-CQ9NDQQWKM');
            </script>
<script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
<script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script>DOCUMENTATION_OPTIONS.pagename = 'reports/throughput';</script>
<link href="../genindex.html" rel="index" title="Index"/>
<link href="../search.html" rel="search" title="Search"/>
<link href="level-0.html" rel="next" title="Level-0 Dataset"/>
<link href="point-spread-function.html" rel="prev" title="Point-Spread Function"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="en" name="docsearch:language"/>
<meta content="" name="docsearch:version"/>
</link></link></link></head>
<body data-bs-root-margin="0px 0px -60%" data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-default-mode="" data-offset="180">
<div class="skip-link d-print-none" id="pst-skip-link"><a href="#main-content">Skip to main content</a></div>
<div id="pst-scroll-pixel-helper"></div>
<button class="btn rounded-pill" id="pst-back-to-top" type="button">
<i class="fa-solid fa-arrow-up"></i>Back to top</button>
<dialog id="pst-search-dialog">
<form action="../search.html" class="bd-search d-flex align-items-center" method="get">
<i class="fa-solid fa-magnifying-glass"></i>
<input aria-label="Search the docs ..." autocapitalize="off" autocomplete="off" autocorrect="off" class="form-control" name="q" placeholder="Search the docs ..." spellcheck="false" type="search"/>
<span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
</dialog>
<div class="pst-async-banner-revealer d-none">
<aside aria-label="Version warning" class="d-none d-print-none" id="bd-header-version-warning"></aside>
</div>
<header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
<button aria-label="Site navigation" class="pst-navbar-icon sidebar-toggle primary-toggle">
<span class="fa-solid fa-bars"></span>
</button>
<div class="col-lg-3 navbar-header-items__start">
<div class="navbar-item">
<a class="navbar-brand logo" href="../index.html">
<img alt="ESIS  documentation - Home" class="logo__image only-light" src="../_static/logo_black.png"/>
<img alt="ESIS  documentation - Home" class="logo__image only-dark pst-js-only" src="../_static/logo_white.png"/>
</a></div>
</div>
<div class="col-lg-9 navbar-header-items">
<div class="me-auto navbar-header-items__center">
<div class="navbar-item">
<nav>
<ul class="bd-navbar-elements navbar-nav">
<li class="nav-item">
<a class="nav-link nav-internal" href="../_autosummary/esis.html">
    esis
  </a>
</li>
<li class="nav-item">
<a class="nav-link nav-internal" href="point-spread-function.html">
    Point-Spread Function
  </a>
</li>
<li class="nav-item current active">
<a class="nav-link nav-internal" href="#">
    Throughput
  </a>
</li>
<li class="nav-item">
<a class="nav-link nav-internal" href="level-0.html">
    Level-0 Dataset
  </a>
</li>
<li class="nav-item">
<a class="nav-link nav-internal" href="level-1.html">
    Level-1 Dataset
  </a>
</li>
</ul>
</nav></div>
</div>
<div class="navbar-header-items__end">
<div class="navbar-item navbar-persistent--container">
<button aria-label="Search" class="btn search-button-field search-button__button pst-js-only" data-bs-placement="bottom" data-bs-toggle="tooltip" title="Search">
<i class="fa-solid fa-magnifying-glass"></i>
<span class="search-button__default-text">Search</span>
<span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
</div>
<div class="navbar-item">
<button aria-label="Color mode" class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" data-bs-placement="bottom" data-bs-title="Color mode" data-bs-toggle="tooltip">
<i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light" title="Light"></i>
<i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark" title="Dark"></i>
<i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto" title="System Settings"></i>
</button></div>
<div class="navbar-item"><ul aria-label="Icon Links" class="navbar-icon-links">
<li class="nav-item">
<a class="nav-link pst-navbar-icon" data-bs-placement="bottom" data-bs-toggle="tooltip" href="https://github.com/esis-mission/esis" rel="noopener" target="_blank" title="GitHub"><i aria-hidden="true" class="fa-brands fa-github fa-lg"></i>
<span class="sr-only">GitHub</span></a>
</li>
<li class="nav-item">
<a class="nav-link pst-navbar-icon" data-bs-placement="bottom" data-bs-toggle="tooltip" href="https://pypi.org/project/euv-snapshot-imaging-spectrograph/" rel="noopener" target="_blank" title="PyPI"><i aria-hidden="true" class="fa-brands fa-python fa-lg"></i>
<span class="sr-only">PyPI</span></a>
</li>
</ul></div>
</div>
</div>
<div class="navbar-persistent--mobile">
<button aria-label="Search" class="btn search-button-field search-button__button pst-js-only" data-bs-placement="bottom" data-bs-toggle="tooltip" title="Search">
<i class="fa-solid fa-magnifying-glass"></i>
<span class="search-button__default-text">Search</span>
<span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
</div>
<button aria-label="On this page" class="pst-navbar-icon sidebar-toggle secondary-toggle">
<span class="fa-solid fa-outdent"></span>
</button>
</div>
</header>
<div class="bd-container">
<div class="bd-container__inner bd-page-width">
<dialog id="pst-primary-sidebar-modal"></dialog>
<div class="bd-sidebar-primary bd-sidebar" id="pst-primary-sidebar">
<div class="sidebar-header-items sidebar-primary__section">
<div class="sidebar-header-items__center">
<div class="navbar-item">
<nav>
<ul class="bd-navbar-elements navbar-nav">
<li class="nav-item">
<a class="nav-link nav-internal" href="../_autosummary/esis.html">
    esis
  </a>
</li>
<li class="nav-item">
<a class="nav-link nav-internal" href="point-spread-function.html">
    Point-Spread Function
  </a>
</li>
<li class="nav-item current active">
<a class="nav-link nav-internal" href="#">
    Throughput
  </a>
</li>
<li class="nav-item">
<a class="nav-link nav-internal" href="level-0.html">
    Level-0 Dataset
  </a>
</li>
<li class="nav-item">
<a class="nav-link nav-internal" href="level-1.html">
    Level-1 Dataset
  </a>
</li>
</ul>
</nav></div>
</div>
<div class="sidebar-header-items__end">
<div class="navbar-item">
<button aria-label="Color mode" class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" data-bs-placement="bottom" data-bs-title="Color mode" data-bs-toggle="tooltip">
<i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light" title="Light"></i>
<i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark" title="Dark"></i>
<i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto" title="System Settings"></i>
</button></div>
<div class="navbar-item"><ul aria-label="Icon Links" class="navbar-icon-links">
<li class="nav-item">
<a class="nav-link pst-navbar-icon" data-bs-placement="bottom" data-bs-toggle="tooltip" href="https://github.com/esis-mission/esis" rel="noopener" target="_blank" title="GitHub"><i aria-hidden="true" class="fa-brands fa-github fa-lg"></i>
<span class="sr-only">GitHub</span></a>
</li>
<li class="nav-item">
<a class="nav-link pst-navbar-icon" data-bs-placement="bottom" data-bs-toggle="tooltip" href="https://pypi.org/project/euv-snapshot-imaging-spectrograph/" rel="noopener" target="_blank" title="PyPI"><i aria-hidden="true" class="fa-brands fa-python fa-lg"></i>
<span class="sr-only">PyPI</span></a>
</li>
</ul></div>
</div>
</div>
<div class="sidebar-primary-items__start sidebar-primary__section">
<div class="sidebar-primary-item">
<nav aria-label="Section Navigation" class="bd-docs-nav bd-links">
<p aria-level="1" class="bd-links__title" role="heading">Section Navigation</p>
<div class="bd-toc-item navbar-nav"></div>
</nav></div>
</div>
<div class="sidebar-primary-items__end sidebar-primary__section">
<div class="sidebar-primary-item">
<div class="flat" data-ea-manual="true" data-ea-publisher="readthedocs" data-ea-type="readthedocs-sidebar" id="ethical-ad-placement">
</div></div>
</div>
</div>
<main class="bd-main" id="main-content" role="main">
<div class="bd-content">
<div class="bd-article-container">
<div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
<div class="header-article-items__start">
<div class="header-article-item">
<nav aria-label="Breadcrumb" class="d-print-none">
<ul class="bd-breadcrumbs">
<li class="breadcrumb-item breadcrumb-home">
<a aria-label="Home" class="nav-link" href="../index.html">
<i class="fa-solid fa-home"></i>
</a>
</li>
<li aria-current="page" class="breadcrumb-item active"><span class="ellipsis">Throughput</span></li>
</ul>
</nav>
</div>
</div>
</div>
</div>
<div id="searchbox"></div>
<article class="bd-article">
<section id="Throughput">
<h1>Throughput<a class="headerlink" href="#Throughput" title="Link to this heading">#</a></h1>
<p>This report investigates the efficiency of each ESIS optical component and estimates the total sensitivity of the optics (not including the sensor).</p>
<p>To accomplish this, we trace a grid of rays through the system and compute the ratios of the intensity of the unvignetted rays. This allows us to compute the average efficiency over the whole FOV, instead of just the on-axis efficiency.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><a class="sphinx-codeautolink-a" href="https://matplotlib.org/stable/api/pyplot_summary.html#module-matplotlib.pyplot" title="matplotlib.pyplot"><span class="nn">matplotlib.pyplot</span></a><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><a class="sphinx-codeautolink-a" href="https://docs.astropy.org/en/stable/visualization/ref_api.html#module-astropy.visualization" title="astropy.visualization"><span class="nn">astropy.visualization</span></a>
<span class="kn">import</span><span class="w"> </span><a class="sphinx-codeautolink-a" href="https://named-arrays.readthedocs.io/en/stable/_autosummary/named_arrays.html#module-named_arrays" title="named_arrays"><span class="nn">named_arrays</span></a><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">na</span>
<span class="kn">import</span><span class="w"> </span><a class="sphinx-codeautolink-a" href="../_autosummary/esis.html#module-esis" title="esis"><span class="nn">esis</span></a>
</pre></div>
</div>
</div>
<p>Load the optical design</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><a class="sphinx-codeautolink-a" href="../_autosummary/esis.optics.Instrument.html#esis.optics.Instrument" title="esis.optics._instruments._instruments.Instrument"><span class="n">instrument</span></a> <span class="o">=</span> <a class="sphinx-codeautolink-a" href="../_autosummary/esis.flights.f1.optics.design_single.html#esis.flights.f1.optics.design_single" title="esis.flights.f1.optics.design_single"><span class="n">esis</span><span class="o">.</span><span class="n">flights</span><span class="o">.</span><span class="n">f1</span><span class="o">.</span><span class="n">optics</span><span class="o">.</span><span class="n">design_single</span></a><span class="p">(</span><span class="n">num_distribution</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">instrument</span><span class="o">.</span><span class="n">wavelength</span> <span class="o">=</span> <a class="sphinx-codeautolink-a" href="https://named-arrays.readthedocs.io/en/stable/_autosummary/named_arrays.linspace.html#named_arrays.linspace" title="named_arrays.linspace"><span class="n">na</span><span class="o">.</span><span class="n">linspace</span></a><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s2">"wavelength"</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="mi">101</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Trace rays through the optical design</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rays</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">system</span><span class="o">.</span><span class="n">raytrace</span><span class="p">()</span><span class="o">.</span><span class="n">outputs</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
WARNING: function 'sqrt' is not known to astropy's Quantity. Will run it anyway, hoping it will treat ndarray subclasses correctly. Please raise an issue at https://github.com/astropy/astropy/issues. [astropy.units.quantity]
/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/astropy/units/quantity.py:657: RuntimeWarning: divide by zero encountered in divide
  result = super().__array_ufunc__(function, method, *arrays, **kwargs)
</pre></div></div>
</div>
<p>Create a list with the names of each surface</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">surface_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">instrument</span><span class="o">.</span><span class="n">system</span><span class="o">.</span><span class="n">surfaces_all</span><span class="p">]</span>
</pre></div>
</div>
</div>
<p>Isolate the name of the logical axis indicating different surfaces</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">axis_surface</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">system</span><span class="o">.</span><span class="n">axis_surface</span>
</pre></div>
</div>
</div>
<p>Compute the index of each surface</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">index_source</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">index_primary</span> <span class="o">=</span> <span class="n">surface_names</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">instrument</span><span class="o">.</span><span class="n">primary_mirror</span><span class="o">.</span><span class="n">surface</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="n">index_grating</span> <span class="o">=</span> <span class="n">surface_names</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">instrument</span><span class="o">.</span><span class="n">grating</span><span class="o">.</span><span class="n">surface</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="n">index_filter</span> <span class="o">=</span> <span class="n">surface_names</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">instrument</span><span class="o">.</span><span class="n">filter</span><span class="o">.</span><span class="n">surface</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Compute the intensity of the rays at each surface</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">axis_sum</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">field</span><span class="o">.</span><span class="n">axes</span> <span class="o">+</span> <span class="n">instrument</span><span class="o">.</span><span class="n">pupil</span><span class="o">.</span><span class="n">axes</span>
<span class="n">kwargs_sum</span> <span class="o">=</span> <a class="sphinx-codeautolink-a" href="https://docs.python.org/3/library/stdtypes.html#dict" title="dict"><span class="nb">dict</span></a><span class="p">(</span>
    <span class="n">axis</span><span class="o">=</span><span class="n">axis_sum</span><span class="p">,</span>
    <span class="n">where</span><span class="o">=</span><span class="n">rays</span><span class="o">.</span><span class="n">unvignetted</span><span class="p">[{</span><span class="n">axis_surface</span><span class="p">:</span> <span class="o">~</span><span class="mi">0</span><span class="p">}],</span>
<span class="p">)</span>
<span class="n">intensity_source</span> <span class="o">=</span> <span class="n">rays</span><span class="o">.</span><span class="n">intensity</span><span class="p">[{</span><span class="n">axis_surface</span><span class="p">:</span> <span class="n">index_source</span><span class="p">}]</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_sum</span><span class="p">)</span>
<span class="n">intensity_primary</span> <span class="o">=</span> <span class="n">rays</span><span class="o">.</span><span class="n">intensity</span><span class="p">[{</span><span class="n">axis_surface</span><span class="p">:</span> <span class="n">index_primary</span><span class="p">}]</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_sum</span><span class="p">)</span>
<span class="n">intensity_grating</span> <span class="o">=</span> <span class="n">rays</span><span class="o">.</span><span class="n">intensity</span><span class="p">[{</span><span class="n">axis_surface</span><span class="p">:</span> <span class="n">index_grating</span><span class="p">}]</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_sum</span><span class="p">)</span>
<span class="n">intensity_filter</span> <span class="o">=</span> <span class="n">rays</span><span class="o">.</span><span class="n">intensity</span><span class="p">[{</span><span class="n">axis_surface</span><span class="p">:</span> <span class="n">index_filter</span><span class="p">}]</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_sum</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Compute the efficiency of each surface by taking intensity ratios</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">efficiency_primary</span> <span class="o">=</span> <span class="n">intensity_primary</span> <span class="o">/</span> <span class="n">intensity_source</span>
<span class="n">efficiency_grating</span> <span class="o">=</span> <span class="n">intensity_grating</span> <span class="o">/</span> <span class="n">intensity_primary</span>
<span class="n">efficiency_filter</span> <span class="o">=</span> <span class="n">intensity_filter</span> <span class="o">/</span> <span class="n">intensity_grating</span>
<span class="n">efficiency_total</span> <span class="o">=</span> <span class="n">intensity_filter</span> <span class="o">/</span> <span class="n">intensity_source</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/astropy/units/quantity.py:657: RuntimeWarning: invalid value encountered in divide
  result = super().__array_ufunc__(function, method, *arrays, **kwargs)
</pre></div></div>
</div>
<p>Plot the efficiencies as a function of wavelength.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <a class="sphinx-codeautolink-a" href="https://docs.astropy.org/en/stable/api/astropy.visualization.quantity_support.html#astropy.visualization.quantity_support" title="astropy.visualization.quantity_support"><span class="n">astropy</span><span class="o">.</span><span class="n">visualization</span><span class="o">.</span><span class="n">quantity_support</span></a><span class="p">():</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <a class="sphinx-codeautolink-a" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.subplots.html#matplotlib.pyplot.subplots" title="matplotlib.pyplot.subplots"><span class="n">plt</span><span class="o">.</span><span class="n">subplots</span></a><span class="p">(</span>
        <span class="n">nrows</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
        <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">constrained_layout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <a class="sphinx-codeautolink-a" href="https://named-arrays.readthedocs.io/en/stable/_autosummary/named_arrays.plt.plot.html#named_arrays.plt.plot" title="named_arrays.plt.plot"><span class="n">na</span><span class="o">.</span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span></a><span class="p">(</span>
        <span class="n">instrument</span><span class="o">.</span><span class="n">wavelength_physical</span><span class="p">,</span>
        <span class="n">efficiency_primary</span><span class="p">,</span>
        <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
        <span class="n">label</span><span class="o">=</span><span class="n">instrument</span><span class="o">.</span><span class="n">primary_mirror</span><span class="o">.</span><span class="n">surface</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="s2">"tab:blue"</span><span class="p">,</span>
    <span class="p">)</span>
    <a class="sphinx-codeautolink-a" href="https://named-arrays.readthedocs.io/en/stable/_autosummary/named_arrays.plt.plot.html#named_arrays.plt.plot" title="named_arrays.plt.plot"><span class="n">na</span><span class="o">.</span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span></a><span class="p">(</span>
        <span class="n">instrument</span><span class="o">.</span><span class="n">wavelength_physical</span><span class="p">,</span>
        <span class="n">efficiency_grating</span><span class="p">,</span>
        <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
        <span class="n">label</span><span class="o">=</span><span class="n">instrument</span><span class="o">.</span><span class="n">grating</span><span class="o">.</span><span class="n">surface</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="s2">"tab:orange"</span><span class="p">,</span>
    <span class="p">)</span>
    <a class="sphinx-codeautolink-a" href="https://named-arrays.readthedocs.io/en/stable/_autosummary/named_arrays.plt.plot.html#named_arrays.plt.plot" title="named_arrays.plt.plot"><span class="n">na</span><span class="o">.</span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span></a><span class="p">(</span>
        <span class="n">instrument</span><span class="o">.</span><span class="n">wavelength_physical</span><span class="p">,</span>
        <span class="n">efficiency_filter</span><span class="p">,</span>
        <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
        <span class="n">label</span><span class="o">=</span><span class="n">instrument</span><span class="o">.</span><span class="n">filter</span><span class="o">.</span><span class="n">surface</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="s2">"tab:green"</span><span class="p">,</span>
    <span class="p">)</span>
    <a class="sphinx-codeautolink-a" href="https://named-arrays.readthedocs.io/en/stable/_autosummary/named_arrays.plt.plot.html#named_arrays.plt.plot" title="named_arrays.plt.plot"><span class="n">na</span><span class="o">.</span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span></a><span class="p">(</span>
        <span class="n">instrument</span><span class="o">.</span><span class="n">wavelength_physical</span><span class="p">,</span>
        <span class="n">efficiency_total</span><span class="p">,</span>
        <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
        <span class="n">label</span><span class="o">=</span><span class="s2">"total"</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="s2">"tab:purple"</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
    <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">"wavelength (</span><span class="si">{</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">get_xlabel</span><span class="p">()</span><span class="si">}</span><span class="s2">)"</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">"efficiency"</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">"efficiency"</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/reports_throughput_17_0.png" src="../_images/reports_throughput_17_0.png"/>
</div>
</div>
<p>Plot a schematic of the three multilayer stacks to compare</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <a class="sphinx-codeautolink-a" href="https://docs.astropy.org/en/stable/api/astropy.visualization.quantity_support.html#astropy.visualization.quantity_support" title="astropy.visualization.quantity_support"><span class="n">astropy</span><span class="o">.</span><span class="n">visualization</span><span class="o">.</span><span class="n">quantity_support</span></a><span class="p">():</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <a class="sphinx-codeautolink-a" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.subplots.html#matplotlib.pyplot.subplots" title="matplotlib.pyplot.subplots"><span class="n">plt</span><span class="o">.</span><span class="n">subplots</span></a><span class="p">(</span>
        <span class="n">ncols</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
        <span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span>
        <span class="n">constrained_layout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">instrument</span><span class="o">.</span><span class="n">primary_mirror</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">plot_layers</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">instrument</span><span class="o">.</span><span class="n">grating</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">plot_layers</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">instrument</span><span class="o">.</span><span class="n">filter</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">plot_layers</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">instrument</span><span class="o">.</span><span class="n">primary_mirror</span><span class="o">.</span><span class="n">surface</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">instrument</span><span class="o">.</span><span class="n">grating</span><span class="o">.</span><span class="n">surface</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">instrument</span><span class="o">.</span><span class="n">filter</span><span class="o">.</span><span class="n">surface</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
    <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
    <span class="n">ax</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
    <span class="n">ax</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">autoscale</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/reports_throughput_19_0.png" src="../_images/reports_throughput_19_0.png"/>
</div>
</div>
</section>
</article>
<footer class="prev-next-footer d-print-none">
<div class="prev-next-area">
<a class="left-prev" href="point-spread-function.html" title="previous page">
<i class="fa-solid fa-angle-left"></i>
<div class="prev-next-info">
<p class="prev-next-subtitle">previous</p>
<p class="prev-next-title">Point-Spread Function</p>
</div>
</a>
<a class="right-next" href="level-0.html" title="next page">
<div class="prev-next-info">
<p class="prev-next-subtitle">next</p>
<p class="prev-next-title">Level-0 Dataset</p>
</div>
<i class="fa-solid fa-angle-right"></i>
</a>
</div>
</footer>
</div>
<dialog id="pst-secondary-sidebar-modal"></dialog>
<div class="bd-sidebar-secondary bd-toc" id="pst-secondary-sidebar"><div class="sidebar-secondary-items sidebar-secondary__inner">
<div class="sidebar-secondary-item">
<div aria-label="source link" role="note">
<h3>This Page</h3>
<ul class="this-page-menu">
<li><a href="../_sources/reports/throughput.ipynb.txt" rel="nofollow">Show Source</a></li>
</ul>
</div></div>
</div></div>
</div>
<footer class="bd-footer-content">
</footer>
</main>
</div>
</div>
<!-- Scripts loaded after <body> so the DOM is not blocked -->
<script defer="" src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer="" src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>
<footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
<div class="footer-items__start">
<div class="footer-item">
<p class="copyright">
    
      © Copyright 2025, Roy T. Smart, Charles C. Kankelborg, Jacob D. Parker.
      <br/>
</p>
</div>
<div class="footer-item">
<p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    <br/>
</p>
</div>
</div>
<div class="footer-items__end">
<div class="footer-item">
<p class="theme-version">
<!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
</div>
</div>
</footer>
</body>
</html>